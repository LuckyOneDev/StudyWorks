Разработать таймер. Таймер управляется через интерфейс APB,
содержит три управляющих регистра:
  стартовое значение таймера,
  текущее значение таймера,
  старт-стоп.
Работа с таймером ведется по следующему алгоритму:
задается стартовое значение таймера, далее пишется 1 в регистр старт-стоп.
Таймер начинается считать (с 0 до указанного значения или с указанного значения до нуля - на ваш выбор).
В процессе счета таймер можно остановить записью 0 в регистр старт-стоп.
В остановленном состоянии можно прочитать регистр с текущим значением.
После остановки таймер можно запустить записью в регистр старт-стоп
(с текущего значения, со стартового значения или и так и так, в зависимости от какого-либо признака - на ваш выбор).